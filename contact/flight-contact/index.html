<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Flight Contact</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="components/bootstrap.css/css/bootstrap.css">
    <link rel="stylesheet" href="app/templates.css">
  </head>

  <body>
    <div id="app" class="container">
      <!-- Mustache Template -->
    </div>

    <script src="components/jquery/jquery.js"></script>
    <script src="components/bootstrap.css/js/bootstrap.js"></script>
    <script src="components/es5-shim/es5-shim.js"></script>
    <script src="components/es5-shim/es5-sham.js"></script>
    <script src="components/mustache/mustache.js"></script>
    <script src="components/jquery-mockjax/jquery.mockjax.js"></script>
    <script src="app/contactsMock.js"></script>
    <script data-main="requireMain.js" src="components/requirejs/require.js"></script>

    <script>
      require(
        [
        'components/flight/lib/compose',
        'components/flight/lib/registry',
        'components/flight/lib/advice',
        'components/flight/lib/logger',
        'components/flight/tools/debug/debug'
        ],

        function(compose, registry, advice, withLogging, debug) {
          debug.enable(true);
          compose.mixin(registry, [advice.withAdvice, withLogging]);
          require(['app/boot/page'], function(initialize) {
            initialize();
          });
        }
      );

$(window).bind('popstate', function (e) {
    if (e.originalEvent.state && e.originalEvent.state.path) {
        $.get(e.originalEvent.state.path, function(data) {
            $('#app').slideTo(data);
        });
        return false;
    }
    return true;
});
    </script>

  </body>
</html>
